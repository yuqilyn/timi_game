# 五人暗战模式 2.0｜身份 & 任务抽取（异地在线 + 日志）

这是一个带简易后端的网页工具（**无第三方依赖**），用于你描述的《王者荣耀·五人暗战模式 2.0》：
- 每个玩家**异地访问同一个网站**，输入自己的名字 + 房间码加入
- 房间凑齐 5 人后，服务器统一随机分配 **4 正常 + 1 卧底**
- 卧底开局抽取 **3–5 个隐藏任务**（可限制“同类型任务最多 X 个”）
- 服务器将 **名字 / 身份 / 任务内容** 追加记录到日志文件（JSONL）
- 页面会提醒玩家**截图保存或记牢**

## 如何运行（本机/服务器）

在项目目录运行：

```bash
python3 server.py
```

然后浏览器访问 `http://服务器IP:5173`（或本机 `http://localhost:5173`）。

## 使用流程（推荐）

1. 房主打开网页，选择任务数量/同类型上限，点击“创建房间”，得到 6 位房间码
2. 房主把房间码发给其他 4 人
3. 每个玩家打开网页，输入自己的名字 + 房间码，点击“加入并抽取”
4. 等房间凑齐 5 人后，系统自动分配身份；玩家点击“查看我的身份”
5. 玩家**截图保存或记牢**（卧底会看到任务列表；结算前不要公开）

## 文件说明

- `index.html`：页面结构
- `styles.css`：样式（移动端友好）
- `app.js`：前端逻辑（加入房间/等待/查看身份）
- `server.py`：后端服务器（房间/分配/日志）

## 日志与数据

- **日志文件**：`logs/assignments.jsonl`（每个玩家一行，包含名字/身份/卧底任务）
- **房间数据**：`data/rooms.json`

